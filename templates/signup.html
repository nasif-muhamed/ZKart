{% extends 'layouts/main.html' %}
{% load static %}
{% load socialaccount %}

{% block header %}
<!-- Page level plugin styles START -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

<style>
  .hide{
    display: none;
  }

  @media only screen and (max-width: 600px) {
    .login_logo{
      display: none;
    }
  }
</style>
<!-- Page level plugin styles END -->
{% endblock header %}
  

{% block content %}
<div class="d-flex justify-content-center align-items-center bg-black text-white" style=" width: 100%; margin-top: -50px;">

  <div class="col-7 col-sm-6 col-md-5 col-lg-4 col-xl-3">

    <!-- Begin Sign up -->
    <div id="register_page" style="width: 100%; margin: 30px 0;">

      <div style="width: 100%; display: flex; flex-direction: column; align-items: center;">
        <img width="250px" src="{% static 'images_other/zkart_logo.png' %}" alt="logo">
      </div>   

      <form class="mx-1 mx-md-4" action="{% url 'register' %}" method="post">

        {% csrf_token %}

        <div class="d-flex flex-row align-items-center mb-4">
          <div data-mdb-input-init class="form-outline flex-fill mb-0">
            <input type="text" id="username" name="username" class="form-control" required/>
            <label class="form-label" for="form3Example1c">Username</label>
          </div>
        </div>

        <div class="d-flex flex-row align-items-center mb-4">
          <div data-mdb-input-init class="form-outline flex-fill mb-0">
            <input type="email" id="email" name="email" class="form-control" required/>
            <label class="form-label" for="form3Example3c">Your Email</label>
          </div>
        </div>

        <div class="d-flex flex-row align-items-center mb-4">
          <div data-mdb-input-init class="form-outline flex-fill mb-0">
            <input type="password" id="password" name="password" class="form-control" required/>
            <label class="form-label" for="form3Example4c">Password</label>
          </div>
        </div>

        <div class="d-flex flex-row align-items-center mb-4">
          <div data-mdb-input-init class="form-outline flex-fill mb-0">
            <input type="password" id="repassword" name="repassword" class="form-control" required/>
            <label class="form-label" for="form3Example4cd">Confirm Password</label>
          </div>
        </div>

        <div class="d-flex flex-row align-items-center mb-4">
          <div data-mdb-input-init class="form-outline flex-fill mb-0">
            <input type="text" id="referral" name="referral" class="form-control" placeholder="Use Referral and Earn â‚¹100"/>
            <label class="form-label" for="referral">Referral (Optional)</label>
          </div>
        </div>

        <!-- notify user password mismatch -->
        <div class="d-flex justify-content-center" style="margin: 0 0 10px 0;">
          {% if request != 'POST' %}
          <p style="color: white; font-size: 10px; font-style: italic;">
            password must contain atleast 8 charecters a lower case 
            an upper case, a digit and a special character 
            and it should not contain any white space 
          </p>
          {% elif pass_error %}
          <p style="color: red; font-size: 10px; font-style: italic;">
            password must contain atleast 8 charecters a lower case 
            an upper case, a digit and a special character 
            and it should not contain any white space 
          </p>
          {% else %}
            {% if messages %}
            {% for message in messages %}
            <p class="message {{message.tags}}" style=" font-size: 10px; font-style: italic;">
              
              {{message}}
              
            </p>
            {% endfor %}
            {% endif %}
          {% endif %}
        </div>

        <div class="d-flex justify-content-center mx-4 mb-3 mb-lg-4">
          <button type="submit" data-mdb-button-init data-mdb-ripple-init class="btn btn-primary btn-lg">Register</button>
        </div>

      </form>
      <div class="d-flex justify-content-center align-items-center" style="width: 100%;">
        <p style="display: inline-block;">I already have an account <a href="{% url 'login' %}" class="btn btn-success" id="login_button" >Login</a></p>
      </div>

    </div>
    <!-- End Sign up -->

  </div>

</div>
{% endblock content %}
  

{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

{% endblock scripts %}
