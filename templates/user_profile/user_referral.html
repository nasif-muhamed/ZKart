{% extends 'user_profile/profile_base.html' %}
{% load static %}

{% block style %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<style>

</style>

{% endblock style %}

{% block main_body %}
<div class="container ">
    {% if messages %}
    <div class="alert-container">
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }}" role="alert">
            {{ message }}
        </div>
        {% endfor %}
    </div>
    {% endif %}
  
    <div class="text-center">
        <h2 class="mt-4" style="font-family: 'Courier New', Courier, monospace;"><strong>INVITE FRIENDS AND EARN</strong></h2>
        <p>Invite Friends & Earn ₹100 Zkart Wallet Points For both You and your Friend</p>
        <h1 class="mt-4" style="font-size: 3rem; font-weight: bold;">{{ user.account.referral_code }}</h1>
        {% if total_earned %}
        <p>Total Earned:  <strong>₹{{total_earned}}</strong> </p>
        {% endif %}
        <img src="https://www.shoppre.com/img/refer-and-earn/refer-and-earn-shoppre-shipping.png" alt="Referral Image" class="img-fluid" style="max-height: 400px;">
    </div>
    <div class="mt-5">
        <h3>Referral Details</h3>
        <table class="table table-bordered table-striped mt-3">
            <thead class="table-dark">
                <tr>
                    <th>Username</th>
                    <th>Points Earned</th>
                </tr>
            </thead>
            <tbody>
                {% for referral in referrals %}
                <tr>
                    <td>@{{ referral.user.username }}</td>
                    <td>₹100</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="2" class="text-center"><strong>No referrals yet.</strong></td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% endblock main_body %}

{% block scripts_profile %}

{% endblock scripts_profile %}
